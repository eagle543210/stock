# 🚀 量化交易决策系统 (Stock-Quant)

这是一个全栈式量化交易系统，支持 **A股、美股、加密货币** 的数据获取、特征工程、机器学习建模、策略回测及实盘对接。

## 🌟 系统核心特性

- **多市场支持**: 集成 AkShare、CCXT 等库，支持 A股、美股标的及币安期货。
- **深度特征工程**: 
  - 集成 `pandas_ta` 的 100+ 技术指标。
  - 支持 **斐波那契回撤/扩展** 自动提取。
  - 支持 **傅里叶变换** 提取周期性分量。
  - 支持 **宏观因子/新闻情绪指标** 融合。
- **AI 智能建模**: 采用 **LightGBM** 梯度提升树进行多目标预测，支持自动化模型训练。
- **完整回测引擎**: 内置事件驱动型回测器，支持交易手续费、滑点模拟及详尽的绩效评估（夏普比率、最大回撤、胜率等）。
- **实盘对接**: 
  - 通过 FastAPI 构建高性能后端。
  - 支持 **MetaTrader 5 (MT5)** 信号传输。
  - 支持 **币安期货 (Binance Testnet)** 测试网实盘下单。
- **现代化前端**: 提供基于 Vite + React 的可视化交互界面，实时监控信号与收益。

## 📂 项目结构

```text
m:/stock/
├── api.py              # FastAPI 后端服务入口 (Socket.IO 实时通信)
├── main.py             # 命令行工具 (训练、诊断、回测)
├── data_handler.py     # 数据调度中心 (缓存与分发)
├── data_downloader.py  # 数据获取引擎
├── feature_generator.py # 核心特征提取模块
├── model_trainer.py    # 机器学习模型训练流程
├── backtester.py       # 策略回测逻辑
├── trader.py           # 交易执行模块
├── services/           # 模型、数据、交易服务分层
├── frontend/           # React 前端代码
└── stock_data_cache/   # 本地数据缓存目录
```

## 🛠️ 快速上手

### 1. 环境安装
建议使用 Python 3.8+，执行以下命令安装依赖：
```bash
pip install -r requirements.txt
```

### 2. 模型训练与回测
使用控制台脚本快速验证股票逻辑：
```bash
# 诊断特定股票 (如：贵州茅台)
python main.py --diagnose 600519

# 执行训练与回测流程
python main.py --ticker 600519 --train_start 20180101 --backtest_start 20230101
```

### 3. 启动 API 服务
```bash
python api.py
```
后端将启动于 `http://localhost:8000`，支持前端 UI 访问。

## 📊 技术栈
- **Backend**: Python, FastAPI, LightGBM, Pandas, scikit-learn
- **Frontend**: React, Vite, Socket.IO
- **Data**: AkShare, CCXT, Pandas-ta
- **Trading**: Binance API, MetaTrader 5

## 🔒 声明
本系统仅用于学习与科研，不构成任何投资建议。入市有风险，投资需谨慎。

---
*Generated by Antigravity AI*
